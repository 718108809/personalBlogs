import{_ as s,c as a,o as n,N as l}from"./chunks/framework.255dec5c.js";const p="/personalBlogs/assets/1701052154530.da520477.png",o="/personalBlogs/assets/1701052168968.103a6860.png",e="/personalBlogs/assets/1701052180825.b22b1f38.png",h=JSON.parse('{"title":"关于three.js渲染器THREE.WebGLRenderer()参数的介绍和使用","description":"","frontmatter":{},"headers":[],"relativePath":"blogs/关于three.js渲染器THREE.WebGLRenderer()参数的介绍和使用.md"}'),t={name:"blogs/关于three.js渲染器THREE.WebGLRenderer()参数的介绍和使用.md"},r=l(`<h1 id="关于three-js渲染器three-webglrenderer-参数的介绍和使用" tabindex="-1">关于three.js渲染器THREE.WebGLRenderer()参数的介绍和使用 <a class="header-anchor" href="#关于three-js渲染器three-webglrenderer-参数的介绍和使用" aria-label="Permalink to &quot;关于three.js渲染器THREE.WebGLRenderer()参数的介绍和使用&quot;">​</a></h1><p>首先来看下 <code>THREE.WebGLRenderer</code>可以设置的参数如下：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> renderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">WebGLRenderer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//创建渲染器对象</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// canvas: document.getElementById(&#39;can3d&#39;), //渲染器绘制其输出的画布，</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">alpha</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 画布是否包含alpha（透明度）缓冲区。默认值为false。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">premultipliedAlpha</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//渲染器是否会假设颜色具有 预乘alpha。默认为true。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">antialias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//是否执行抗锯齿。默认值为false。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">preserveDrawingBuffer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//是否保留缓冲区直到手动清除或覆盖。默认值为false。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">depth</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//绘图缓冲区是否具有至少16位的 深度缓冲区。默认为true。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">autoClear</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//定义渲染器是否应在渲染帧之前自动清除其输出。</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//以上为基础配置选项。</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//以下为高级进阶调渲染后期</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">gammaFactor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//伽马基础值</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">gammaInput</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//如果设置，那么它期望所有纹理和颜色都是预乘伽马。默认值为false。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">gammaOutput</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//如果设置，那么它期望所有纹理和颜色需要以预乘伽马输出。默认值为false。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">shadowMap</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//如果使用，它包含阴影贴图的引用。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">physicalCorrectLights</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//是否使用物理上正确的照明模式。默认值为false。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">toneMapping</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//曝光值</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">toneMappingExposure</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//色调映射的曝光级别。默认值为1。</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">renderLists</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> []</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//在内部用于处理场景对象渲染的排序</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">sortObjects</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//定义渲染器是否应对对象进行排序。默认为true。</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>遇到的问题：加载完模型，效果看起来太白了，在设置模型渲染的曝光值 <code>toneMapping</code>时不起作用 <img src="`+p+'" alt="1701052154530"> 在查阅许多资料后都没能有效的解决此问题，于是就在不经意间发现一个 <code>ReinhardToneMapping</code>属性，巧妙地利用编辑工具代码提示的功能有效的解决的问题。 <img src="'+o+`" alt="1701052168968"> 设置模型的曝光值需要这样写：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toneMapping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ReinhardToneMapping </span><span style="color:#676E95;font-style:italic;">//曝光值 默认为2 值为整型 [1 - 2]</span></span></code></pre></div><p>如果需要调整曝光值可以这样写：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ReinhardToneMapping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toneMapping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ReinhardToneMapping</span></span></code></pre></div><p>代码：</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> container </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">threed</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//获取渲染容器</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> renderer </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">WebGLRenderer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">antialias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">//创建渲染器对象</span></span>
<span class="line"><span style="color:#A6ACCD;">renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">can3d</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">renderer</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSize</span><span style="color:#A6ACCD;">(width</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height) </span><span style="color:#676E95;font-style:italic;">//渲染大小</span></span>
<span class="line"><span style="color:#A6ACCD;">renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toneMapping </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> THREE</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ReinhardToneMapping </span><span style="color:#676E95;font-style:italic;">//曝光值</span></span>
<span class="line"><span style="color:#A6ACCD;">container</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(renderer</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">domElement) </span><span style="color:#676E95;font-style:italic;">//将模型添加到指定容器内</span></span></code></pre></div><p>调整后的效果，高亮的地方是暗下来了，但整个模型也暗了，这时调整模型的灯光、环境光就可以了，好吧！效果看起来依然很丑，但是 是有效果的，需要自己根据需求慢慢调试。 <img src="`+e+'" alt="1701052180825"></p>',10),c=[r];function y(D,C,A,F,i,d){return n(),a("div",null,c)}const _=s(t,[["render",y]]);export{h as __pageData,_ as default};
